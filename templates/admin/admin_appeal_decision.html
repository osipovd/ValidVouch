{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Appeal Decision</h1>
    <div class="review-details">
        <p><strong>Review ID:</strong> {{ review.id }}</p>
        <p><strong>Submitted by:</strong> {{ review.user.first_name }} {{ review.user.last_name }}</p>
        <p><strong>Business:</strong> {{ review.business.business_name }}</p>
        <p><strong>Content:</strong> {{ review.content }}</p>
        <p><strong>Rating:</strong> {{ review.rating }}</p>
        <p><strong>Flag Reason:</strong> {{ flag.flag_reason }}</p>
        <p><strong>Flagged At:</strong> {{ flag.flag_timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</p>
        <p><strong>Appeal Reason:</strong> {{ flag.appeal_reason }}</p>
        <p><strong>Appeal Submitted At:</strong> {{ flag.appeal_timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</p>
    </div>
    <form method="POST">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.decision.label }}
            {{ form.decision(class='form-control') }}
            {% if form.decision.errors %}
                <div class="alert alert-danger">
                    {% for error in form.decision.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.notes.label }}
            {{ form.notes(class='form-control', rows=3) }}
            {% if form.notes.errors %}
                <div class="alert alert-danger">
                    {% for error in form.notes.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-actions">
            {{ form.submit(class='btn btn-primary') }}
        </div>
    </form>
</div>
{% endblock %}






